<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .mainArea{
            margin: auto;
            text-align: center;
        }
        .can{
            border: 1px solid red;
            
        }
    </style>
</head>
<body>
    <div class="mainArea">
        <canvas id="can" class="can" width="500" height="500"></canvas>
    </div>
    <script>
        class Tictoc{
            constructor(id) {
                this.id = id;
                this.can = document.getElementById("can");
                this.pen = can.getContext("2d");
                this.width = this.can.width;
                this.height = this.can.height;
            }
            modi(x,y){
                this.pen.fillRect( this.width/2 + x, this.height/2 - y,1,1);
            }
            mainArea(){
                for(let x=0; x<=360; x+=0.1){
                    let radian = (Math.PI/180) * x;
                    let r = this.width/2;
                    this.modi(Math.cos(radian)*r , Math.sin(radian)*r);
                }
            }
            tic(){
                let num = 0;
                let max = 10;
                // let x = -1.57;
                const tac = (num , max)=>{
                    for(let x=0; x<=max; x+=6){
                    let r = this.width/2;
                    let radian = (Math.PI/180) * x;
                    this.printLine(0,0,Math.cos(x)*r, Math.sin(x)*r);
                }
                }
                // tac();
                
                setInterval(num+=6 ,1000);
                // setInterval(tac(num) , 1000);
                setInterval(max+=10 ,1000);
                
                setInterval(tac(num,max) , 1000);
            }
            printLine(x1, y1, x2, y2) {
                if (x1 > x2) {
                    [x1, x2] = [x2, x1];
                    [y1, y2] = [y2, y1];
                    for (let x = x2; x <= x1; x = x + 0.1) {
                    let gi = (y1 - y2) / (x1 - x2);
                    let y = gi * (x - x1) + (y1);
                    this.modi(x, y);
                }
                }if (x2 > x1){
                    for (let x = x1; x <= x2; x = x + 0.1) {
                    let gi = (y1 - y2) / (x1 - x2);
                    let y = gi * (x - x1) + (y1);
                    this.modi(x, y);
                }
                }
                
                // if (x1 == x2) {
                //     if (y1 > y2) {
                //         [x1, x2] = [x2, x1];
                //         [y1, y2] = [y2, y1];
                //     }
                //     for (let y = y1; y <= y2; y = y + 0.1) {
                //         let gi = (y1 - y2) / (x1 - x2);
                //         let x = gi * (x - x1) + (y1);
                //         this.modi(x, y);
                //     }
                // }
            }
            run(){
                this.modi(1,1);
                this.mainArea();
                this.tic();
            }
        }
        const tictoc = new Tictoc("tictoc");
        tictoc.run();
    </script>
</body>
</html>